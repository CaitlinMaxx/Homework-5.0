<!DOCTYPE html>
<html>
    <head>

        <title>Work Day Scheduler</title>

        <link rel="stylesheet" href="style.css">
        <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
        <script src = "https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>

    </head>
    <body>
        
        <header>

            <h1>Work Day Scheduler</h1>
            <p>A simple calendar app for scheduling your work day</p>
            <div class = "dateToday"></div>

        </header>
        <section class = "calendar">

            <div class="container">
                <div class="row" id = "9am">
                  <div class="col time time1" data-time= "9">
                    9am
                  </div>
                  <div class="col-10">
                    <textarea type="text" class="form-control input9" rows="5"></textarea>                  
                  </div>
                  <div class="col saveButton">
                    <button type="button" class="btn btn-danger" id= "b1">
                        <svg class="bi bi-file-arrow-up" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M4 1h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V3a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V3a1 1 0 00-1-1H4z" clip-rule="evenodd"/>
                            <path fill-rule="evenodd" d="M4.646 7.854a.5.5 0 00.708 0L8 5.207l2.646 2.647a.5.5 0 00.708-.708l-3-3a.5.5 0 00-.708 0l-3 3a.5.5 0 000 .708z" clip-rule="evenodd"/>
                            <path fill-rule="evenodd" d="M8 12a.5.5 0 00.5-.5v-6a.5.5 0 00-1 0v6a.5.5 0 00.5.5z" clip-rule="evenodd"/>
                          </svg>   
                    </button>                
                  </div>
                </div>

                <div class="row" id = "10am">
                  <div class="col time time2" data-time= "10">
                    10am
                  </div>
                  <div class="col-10">
                    <textarea type="text" class="form-control input10" rows="5"></textarea>                  
                  </div>
                  <div class="col saveButton">
                    <button type="button" class="btn btn-danger" id= "b2">
                        <svg class="bi bi-file-arrow-up" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M4 1h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V3a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V3a1 1 0 00-1-1H4z" clip-rule="evenodd"/>
                            <path fill-rule="evenodd" d="M4.646 7.854a.5.5 0 00.708 0L8 5.207l2.646 2.647a.5.5 0 00.708-.708l-3-3a.5.5 0 00-.708 0l-3 3a.5.5 0 000 .708z" clip-rule="evenodd"/>
                            <path fill-rule="evenodd" d="M8 12a.5.5 0 00.5-.5v-6a.5.5 0 00-1 0v6a.5.5 0 00.5.5z" clip-rule="evenodd"/>
                          </svg>   
                    </button>                   
                  </div>
                </div>
              
                <div class="row" id = "11am">
                  <div class="col time time3" data-time= "11">
                    11am
                  </div>
                  <div class="col-10">
                    <textarea type="text" class="form-control input11" rows="5"></textarea>                  
                  </div>
                  <div class="col saveButton">
                    <button type="button" class="btn btn-danger" id= "b3">
                        <svg class="bi bi-file-arrow-up" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M4 1h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V3a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V3a1 1 0 00-1-1H4z" clip-rule="evenodd"/>
                            <path fill-rule="evenodd" d="M4.646 7.854a.5.5 0 00.708 0L8 5.207l2.646 2.647a.5.5 0 00.708-.708l-3-3a.5.5 0 00-.708 0l-3 3a.5.5 0 000 .708z" clip-rule="evenodd"/>
                            <path fill-rule="evenodd" d="M8 12a.5.5 0 00.5-.5v-6a.5.5 0 00-1 0v6a.5.5 0 00.5.5z" clip-rule="evenodd"/>
                          </svg>   
                    </button>                   
                  </div>
                </div>
              
                <div class="row" id = "12pm">
                  <div class="col time time4" data-time= "12">
                    12pm
                  </div>
                  <div class="col-10">
                    <textarea type="text" class="form-control input12" rows="5"></textarea>                  
                  </div>
                  <div class="col saveButton">
                    <button type="button" class="btn btn-danger" id= "b4">
                        <svg class="bi bi-file-arrow-up" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M4 1h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V3a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V3a1 1 0 00-1-1H4z" clip-rule="evenodd"/>
                            <path fill-rule="evenodd" d="M4.646 7.854a.5.5 0 00.708 0L8 5.207l2.646 2.647a.5.5 0 00.708-.708l-3-3a.5.5 0 00-.708 0l-3 3a.5.5 0 000 .708z" clip-rule="evenodd"/>
                            <path fill-rule="evenodd" d="M8 12a.5.5 0 00.5-.5v-6a.5.5 0 00-1 0v6a.5.5 0 00.5.5z" clip-rule="evenodd"/>
                          </svg>   
                    </button>                   
                  </div>
                </div>
              
           
                <div class="row"  id = "1pm">
                    <div class="col time time5" data-time= "13">
                      1pm
                    </div>
                    <div class="col-10">
                        <textarea type="text" class="form-control input1" rows="5"></textarea>                  
                    </div>
                    <div class="col saveButton">
                        <button type="button" class="btn btn-danger"  id= "b5">
                            <svg class="bi bi-file-arrow-up" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M4 1h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V3a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V3a1 1 0 00-1-1H4z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M4.646 7.854a.5.5 0 00.708 0L8 5.207l2.646 2.647a.5.5 0 00.708-.708l-3-3a.5.5 0 00-.708 0l-3 3a.5.5 0 000 .708z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M8 12a.5.5 0 00.5-.5v-6a.5.5 0 00-1 0v6a.5.5 0 00.5.5z" clip-rule="evenodd"/>
                              </svg>   
                        </button>                   
                    </div>
                  </div>

                  <div class="row" id = "2pm">
                    <div class="col time time6" data-time= "14">
                      2pm
                    </div>
                    <div class="col-10">
                        <textarea type="text" class="form-control input2" rows="5"></textarea>                  
                    </div>
                    <div class="col saveButton">
                        <button type="button" class="btn btn-danger" id= "b6">
                            <svg class="bi bi-file-arrow-up" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M4 1h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V3a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V3a1 1 0 00-1-1H4z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M4.646 7.854a.5.5 0 00.708 0L8 5.207l2.646 2.647a.5.5 0 00.708-.708l-3-3a.5.5 0 00-.708 0l-3 3a.5.5 0 000 .708z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M8 12a.5.5 0 00.5-.5v-6a.5.5 0 00-1 0v6a.5.5 0 00.5.5z" clip-rule="evenodd"/>
                              </svg>   
                        </button>                   
                    </div>
                  </div>

                  <div class="row" id = "3pm">
                    <div class="col time time7" data-time= "15">
                      3pm
                    </div>
                    <div class="col-10">
                        <textarea type="text" class="form-control input3" rows="5"></textarea>                  
                    </div>
                    <div class="col saveButton">
                        <button type="button" class="btn btn-danger" id= "b7">
                            <svg class="bi bi-file-arrow-up" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M4 1h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V3a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V3a1 1 0 00-1-1H4z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M4.646 7.854a.5.5 0 00.708 0L8 5.207l2.646 2.647a.5.5 0 00.708-.708l-3-3a.5.5 0 00-.708 0l-3 3a.5.5 0 000 .708z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M8 12a.5.5 0 00.5-.5v-6a.5.5 0 00-1 0v6a.5.5 0 00.5.5z" clip-rule="evenodd"/>
                              </svg>   
                        </button>                   
                    </div>
                  </div>

                  <div class="row" id = "4pm">
                    <div class="col time time8" data-time= "16">
                      4pm
                    </div>
                    <div class="col-10">
                        <textarea type="text" class="form-control input4" rows="5"></textarea>                  
                    </div>
                    <div class="col saveButton">
                        <button type="button" class="btn btn-danger" id= "b8">
                            <svg class="bi bi-file-arrow-up" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M4 1h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V3a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V3a1 1 0 00-1-1H4z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M4.646 7.854a.5.5 0 00.708 0L8 5.207l2.646 2.647a.5.5 0 00.708-.708l-3-3a.5.5 0 00-.708 0l-3 3a.5.5 0 000 .708z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M8 12a.5.5 0 00.5-.5v-6a.5.5 0 00-1 0v6a.5.5 0 00.5.5z" clip-rule="evenodd"/>
                              </svg>   
                        </button>                   
                    </div>
                  </div>

                  <div class="row" id = "5pm">
                    <div class="col time time9" data-time= "17">
                      5pm
                    </div>
                    <div class="col-10">
                        <textarea type="text" class="form-control input5" rows="5" ></textarea>
                    </div>
                    <div class="col saveButton">
                        <button type="button" class="btn btn-danger" id= "b9">
                            <svg class="bi bi-file-arrow-up" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M4 1h8a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V3a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V3a1 1 0 00-1-1H4z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M4.646 7.854a.5.5 0 00.708 0L8 5.207l2.646 2.647a.5.5 0 00.708-.708l-3-3a.5.5 0 00-.708 0l-3 3a.5.5 0 000 .708z" clip-rule="evenodd"/>
                                <path fill-rule="evenodd" d="M8 12a.5.5 0 00.5-.5v-6a.5.5 0 00-1 0v6a.5.5 0 00.5.5z" clip-rule="evenodd"/>
                              </svg>   
                        </button>               
                    </div>
                  </div>
            </div>
        </section>

        <script scr = moment.js></script>
        <script type="text/javascript">
            var date = moment().format('dddd, MMMM Do');

            $(".dateToday").append(date);

            var time1 = $(".time1").attr("data-time");
            var time2 = $(".time2").attr("data-time");
            var time3 = $(".time3").attr("data-time");
            var time4 = $(".time4").attr("data-time");
            var time5 = $(".time5").attr("data-time");
            var time6 = $(".time6").attr("data-time");
            var time7 = $(".time7").attr("data-time");
            var time8 = $(".time8").attr("data-time");
            var time9 = $(".time9").attr("data-time");
            var newTime1 = parseInt($(".time1").attr("data-time"));
            var newTime2 = parseInt($(".time2").attr("data-time"));
            var newTime3 = parseInt($(".time3").attr("data-time"));
            var newTime4 = parseInt($(".time4").attr("data-time"));
            var newTime5 = parseInt($(".time5").attr("data-time"));
            var newTime6 = parseInt($(".time6").attr("data-time"));
            var newTime7 = parseInt($(".time7").attr("data-time"));
            var newTime8 = parseInt($(".time8").attr("data-time"));
            var newTime9 = parseInt($(".time9").attr("data-time"));



            function updateBackground(){
                var hr = (new Date()).getHours();

                if (hr > newTime1) {
                    $("#9am").css('background-color', 'rgb(228, 225, 225)');
                } 
                else if (hr < newTime1) {
                    $("#9am").css('background-color', 'rgb(146, 253, 151)');
                } 
                else {
                    $("#9am").css('background-color', 'rgb(255, 140, 140)');
                }

                if (hr > newTime2) {
                    $("#10am").css('background-color', 'rgb(228, 225, 225)');
                } 
                else if (hr < newTime2) {
                    $("#10am").css('background-color', 'rgb(146, 253, 151)');
                } 
                else {
                    $("#10am").css('background-color', 'rgb(255, 140, 140)');
                }  

                if (hr > newTime3) {
                    $("#11am").css('background-color', 'rgb(228, 225, 225)');
                } 
                else if (hr < newTime3) {
                    $("#11am").css('background-color', 'rgb(146, 253, 151)');
                } 
                else {
                    $("#11am").css('background-color', 'rgb(255, 140, 140)');
                } 

                if (hr > newTime4) {
                    $("#12pm").css('background-color', 'rgb(228, 225, 225)');
                } 
                else if (hr < newTime4) {
                    $("#12pm").css('background-color', 'rgb(146, 253, 151)');
                } 
                else {
                    $("#12pm").css('background-color', 'rgb(255, 140, 140)');
                } 

                if (hr > newTime5) {
                    $("#1pm").css('background-color', 'rgb(228, 225, 225)');
                } 
                else if (hr < newTime5) {
                    $("#1pm").css('background-color', 'rgb(146, 253, 151)');
                } 
                else {
                    $("#1pm").css('background-color', 'rgb(255, 140, 140)');
                } 

                if (hr > newTime6) {
                    $("#2pm").css('background-color', 'rgb(228, 225, 225)');
                } 
                else if (hr < newTime6) {
                    $("#2pm").css('background-color', 'rgb(146, 253, 151)');
                } 
                else {
                    $("#2pm").css('background-color', 'rgb(255, 140, 140)');
                } 

                if (hr > newTime7) {
                    $("#3pm").css('background-color', 'rgb(228, 225, 225)');
                } 
                else if (hr < newTime7) {
                    $("#3pm").css('background-color', 'rgb(146, 253, 151)');
                } 
                else {
                    $("#3pm").css('background-color', 'rgb(255, 140, 140)');
                } 

                if (hr > newTime8) {
                    $("#4pm").css('background-color', 'rgb(228, 225, 225)');
                } 
                else if (hr < newTime8) {
                    $("#4pm").css('background-color', 'rgb(146, 253, 151)');
                } 
                else {
                    $("#4pm").css('background-color', 'rgb(255, 140, 140)');
                } 

                if (hr > newTime9) {
                    $("#5pm").css('background-color', 'rgb(228, 225, 225)');
                } 
                else if (hr < newTime9) {
                    $("#5pm").css('background-color', 'rgb(146, 253, 151)');
                } 
                else {
                    $("#5pm").css('background-color', 'rgb(255, 140, 140)');
                } 

                
             };
            updateBackground();
            
             event1 = [];
             event2 = [];
             event3 = [];
             event4 = [];
             event5 = [];
             event6 = [];
             event7 = [];
             event8 = [];
             event9 = [];

            init()
            
            function init(){
                
                var storedEvents_9am = JSON.parse(localStorage.getItem("9am"));
                if (storedEvents_9am != null){
                  event1 = storedEvents_9am
                }

                var storedEvents_10am = JSON.parse(localStorage.getItem("10am"));
                if (storedEvents_10am != null){
                    event2 = storedEvents_10am
                }

                var storedEvents_11am = JSON.parse(localStorage.getItem("11am"));
                if (storedEvents_11am != null){
                    event3 = storedEvents_11am
                }

                var storedEvents_12pm = JSON.parse(localStorage.getItem("12pm"));
                if (storedEvents_12pm != null){
                    event4 = storedEvents_12pm
                }

                var storedEvents_1pm = JSON.parse(localStorage.getItem("1pm"));
                if (storedEvents_1pm != null){
                    event5 = storedEvents_1pm
                }

                var storedEvents_2pm = JSON.parse(localStorage.getItem("2pm"));
                if (storedEvents_2pm != null){
                    event6 = storedEvents_2pm
                }

                var storedEvents_3pm = JSON.parse(localStorage.getItem("3pm"));
                if (storedEvents_3pm != null){
                    event7 = storedEvents_3pm
                }

                var storedEvents_4pm = JSON.parse(localStorage.getItem("4pm"));
                if (storedEvents_4pm != null){
                    event8 = storedEvents_4pm
                }

                var storedEvents_5pm = JSON.parse(localStorage.getItem("5pm"));
                if (storedEvents_5pm != null){
                    event9 = storedEvents_5pm
                }
                renderEvents();
            }

            function renderEvents(){
              if (event1 != null){
                for (var i = 0; i < event1.length; i++){
                  var sEvent = event1[i];

                  $(".input9").append(sEvent)

                }};
                
              if (event2 != null){
                for (var i = 0; i < event2.length; i++){
                  var sEvent = event2[i];

                  $(".input10").append(sEvent)

                }
              };
              
              if (event3 != null){
                for (var i = 0; i < event3.length; i++){
                  var sEvent = event3[i];

                  $(".input11").append(sEvent)

                }};

              if (event4 != null){
                for (var i = 0; i < event4.length; i++){
                  var sEvent = event4[i];

                  $(".input12").append(sEvent)

                }
              };
              
              if (event5 != null){
                for (var i = 0; i < event5.length; i++){
                  var sEvent = event5[i];

                  $(".input1").append(sEvent)

                }
              };
                
              if (event6 != null){
                for (var i = 0; i < event6.length; i++){
                  var sEvent = event6[i];

                  $(".input2").append(sEvent)

                }
              };    
                
              if (event7 != null){
                for (var i = 0; i < event7.length; i++){
                  var sEvent = event7[i];

                  $(".input3").append(sEvent)

                }
              };
                
              if (event8 != null){
                for (var i = 0; i < event8.length; i++){
                  var sEvent = event8[i];

                  $(".input4").append(sEvent)

                }
              };                
                
              if (event9 != null){
                for (var i = 0; i < event9.length; i++){
                  var sEvent = event9[i];

                  $(".input5").append(sEvent)

                 }
              };               
              
            }

            $("#b1").on("click", function(event) {
                event.preventDefault();
                
                init()
                if (event1 != null) {
                  localStorage.removeItem("9am");
                }

                var eventToSave = $(".input9").val().trim()
                console.log(eventToSave)
                localStorage.setItem("9am", JSON.stringify(eventToSave));

            });
            $("#b2").on("click", function(event) {
                event.preventDefault();
                
                init()
                if (event1 != null) {
                  localStorage.removeItem("10am");
                }

                var eventToSave = $(".input10").val().trim()
                console.log(eventToSave)
                localStorage.setItem("10am", JSON.stringify(eventToSave));

            });
            $("#b3").on("click", function(event) {
                event.preventDefault();
                
                init()
                if (event1 != null) {
                  localStorage.removeItem("11am");
                }

                var eventToSave = $(".input11").val().trim()
                console.log(eventToSave)
                localStorage.setItem("11am", JSON.stringify(eventToSave));

            });
            $("#b4").on("click", function(event) {
                event.preventDefault();
                
                init()
                if (event1 != null) {
                  localStorage.removeItem("12pm");
                }

                var eventToSave = $(".input12").val().trim()
                console.log(eventToSave)
                localStorage.setItem("12pm", JSON.stringify(eventToSave));

            });
            $("#b5").on("click", function(event) {
                event.preventDefault();
                
                init()
                if (event1 != null) {
                  localStorage.removeItem("1pm");
                }

                var eventToSave = $(".input1").val().trim()
                console.log(eventToSave)
                localStorage.setItem("1pm", JSON.stringify(eventToSave));

            });
            $("#b6").on("click", function(event) {
                event.preventDefault();
                
                init()
                if (event1 != null) {
                  localStorage.removeItem("2pm");
                }

                var eventToSave = $(".input2").val().trim()
                console.log(eventToSave)
                localStorage.setItem("2pm", JSON.stringify(eventToSave));

            });
            $("#b7").on("click", function(event) {
                event.preventDefault();
                
                init()
                if (event1 != null) {
                  localStorage.removeItem("3pm");
                }

                var eventToSave = $(".input3").val().trim()
                console.log(eventToSave)
                localStorage.setItem("3pm", JSON.stringify(eventToSave));

            });
            $("#b8").on("click", function(event) {
                event.preventDefault();
                
                init()
                if (event1 != null) {
                  localStorage.removeItem("4pm");
                }

                var eventToSave = $(".input4").val().trim()
                console.log(eventToSave)
                localStorage.setItem("4pm", JSON.stringify(eventToSave));

            });
            $("#b9").on("click", function(event) {
                event.preventDefault();
                
                init()
                if (event1 != null) {
                  localStorage.removeItem("5pm");
                }

                var eventToSave = $(".input5").val().trim()
                console.log(eventToSave)
                localStorage.setItem("5pm", JSON.stringify(eventToSave));

            });
        </script>
    </body>
</html>
